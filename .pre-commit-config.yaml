default_language_version:
  python: python3.10
default_stages: [commit, push]

repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v2.5.0
    hooks:
    - id: trailing-whitespace
    - id: end-of-file-fixer
    - id: check-yaml
    - id: check-toml
    - id: check-json
    - id: check-added-large-files
  - repo: local
    hooks:
    - id: isort
      name: isort
      entry: poetry run isort --settings-path pyproject.toml
      types: [python]
      language: system
      stages: [commit, push]
    - id: black
      name: black
      entry: poetry run black --config pyproject.toml
      types: [python]
      language: system
      stages: [commit, push]
    - id: ruff
      name: ruff
      entry: poetry run ruff check . --config pyproject.toml
      types: [python]
      language: system
      stages: [commit, push]
    - id: nbstripout
      name: Strip Jupyter notebook output (nbstripout)
      entry: poetry run nbstripout
      types: [file]
      files: (.ipynb)$
      language: system
      stages: [commit, push]
    - id: pytest
      name: Tests (pytest)
      entry: poetry run pytest tests/
      types: [python]
      language: system
      stages: [push]
      pass_filenames: false
